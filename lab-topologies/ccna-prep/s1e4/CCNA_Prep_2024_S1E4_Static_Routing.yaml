annotations:
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.1.0/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 195.0010593450761
    y1: 189.9393556249247
    z_index: 0
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.2.0/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 199.00387083266273
    y1: 317.9324830997129
    z_index: 0
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.3.0/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 200.00691661088158
    y1: 438.92615725264295
    z_index: 0
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.10'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 316.9915315260324
    y1: 168.94099565935022
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.10'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 317.9945773042513
    y1: 290.93459171540286
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.10'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 323.9972325980832
    y1: 414.92803157770066
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.1'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 457.13942910463663
    y1: 171.2768239813218
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.1'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 461.99065917669094
    y1: 293.2906204798616
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.1'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 463.32701225595065
    y1: 415.3044169784017
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 172.20.1.0/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 609.4507654590682
    y1: 227.51485586603488
    z_index: 3
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 172.20.1.4/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 539.3179530181717
    y1: 297.9771231369212
    z_index: 3
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 172.20.1.8/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 605.0937176319984
    y1: 402.4165346714882
    z_index: 3
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.1'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 698.6590433581919
    y1: 276.88786118015383
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.5'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 627.3546052530304
    y1: 323.917615165743
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: '.9'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 684.9289902170034
    y1: 349.8581071945647
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 172.16.1.0/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 638.9394406987014
    y1: -80.73433816643357
    z_index: 4
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.0.0.200/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1169.5864570070587
    y1: -44.739310577853644
    z_index: 5
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.0.0.2/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 851.6284067183049
    y1: 55.25365874428388
    z_index: 5
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.0.0.1/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 856.6325079470578
    y1: -79.72583511195063
    z_index: 5
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 172.16.2.0/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 646.8735877345133
    y1: 43.35230218526342
    z_index: 4
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 192.168.1.100/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 349.74143244415774
    y1: -57.86606830773064
    z_index: 5
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: Primary link (OSPF)
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 608.9898667586946
    y1: -101.00367137442396
    z_index: 6
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: Backup link (Static)
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 605.1025451557528
    y1: 63.15125158126691
    z_index: 6
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.2.1/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1784.4546655075699
    y1: 123.05133654437523
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.2.2/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1780.4598213380018
    y1: 78.06129667134701
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.2.5.1/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1829.4587667363226
    y1: 217.04969605287397
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.2.5.2/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1966.4474004737783
    y1: 304.0441886885484
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.2.3.1/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1571.498372888281
    y1: 221.05860157816642
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.2.3.2/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1445.5178244303672
    y1: 310.0528598579121
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.2.4.2/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1642.4994274899605
    y1: 313.057195442594
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.2.4.1/30
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1755.490873498561
    y1: 262.06785863735206
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      Loopback0
      200.200.200.200/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1695.4650943463992
    y1: -41.92932909150301
    z_index: 8
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      Loopback0
      200.200.200.200/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1970.4375575247711
    y1: 401.0234481888541
    z_index: 8
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      Loopback0
      200.200.200.200/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1704.47341398187
    y1: 408.02731506167845
    z_index: 8
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      Loopback0
      200.200.200.200/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 1439.5091532610043
    y1: 398.0331739598971
    z_index: 8
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: 'CCNA Exam Prep: Back to Networking Basics with Hank Preston and
      Patrick Gargano'
    text_font: monospace
    text_italic: false
    text_size: 16
    text_unit: pt
    thickness: 1
    type: text
    x1: -537.6514822368888
    y1: -282.51235340998505
    z_index: 9
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: 'Routing Fundamentals & Static Routes: Master concepts and static
      routes'
    text_font: monospace
    text_italic: false
    text_size: 18
    text_unit: pt
    thickness: 1
    type: text
    x1: -535.6953301987273
    y1: -242.15683442055519
    z_index: 10
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      - Configure static routes
      - Configure default routes
      - Configure floating static routes
      - Explore the route selection process
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 459.34629485271023
    y1: -275.1324134301733
    z_index: 11
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      3.1 Interpret the components of routing table
      3.1.a Routing protocol code
      3.1.b Prefix
      3.1.c Network mask
      3.1.d Next hop
      3.1.e Administrative distance
      3.1.f Metric
      3.1.g Gateway of last resort

      3.2 Determine how a router makes a forwarding decision by default
      3.2.a Longest prefix match
      3.2.b Administrative distance
      3.2.c Routing protocol metric

      3.3 Configure and verify IPv4 and IPv6 static routing
      3.3.a Default route
      3.3.b Network route
      3.3.c Host route
      3.3.d Floating static
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -519.8999581695359
    y1: -196.68105117527693
    z_index: 12
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      Route selection process:
      1) Longest prefix match
      2) Administrative Distance
      3) Metric

      Administrative Distance values:
      Directly connected interface   0
      Static route                   1
      EIGRP                          90
      OSPF                           110
      RIP                            120
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 2215.8879104668626
    y1: 7.392625729739397
    z_index: 13
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: 'Part 1: Configure static and default routes'
    text_font: monospace
    text_italic: false
    text_size: 14
    text_unit: pt
    thickness: 1
    type: text
    x1: 193.35420604459387
    y1: 138.2825390716419
    z_index: 14
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: 'Part 2: Configure floating static routes'
    text_font: monospace
    text_italic: false
    text_size: 14
    text_unit: pt
    thickness: 1
    type: text
    x1: 185.55093334581198
    y1: -131.30056031094517
    z_index: 14
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: 'Part 3: Explore the route selection process'
    text_font: monospace
    text_italic: false
    text_size: 14
    text_unit: pt
    thickness: 1
    type: text
    x1: 1518.5156425319105
    y1: -86.74786767296595
    z_index: 14
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#FFFFFFFF'
    thickness: 1
    type: rectangle
    x1: 1408.869262365162
    y1: -110.32482955520888
    x2: 738.990826561268
    y2: 578.689838933979
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      RIPv2
      EIGRP AS 100
      OSPF AREA 0
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 2013.9136937968754
    y1: -34.58215992394716
    z_index: 16
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#FFFFFFFF'
    thickness: 1
    type: rectangle
    x1: 168.57302868560765
    y1: -142.89912071780333
    x2: 1158.9589908375706
    y2: 243.449965530969
    z_index: 1
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#FFFFFFFF'
    thickness: 1
    type: rectangle
    x1: 170.2874650625887
    y1: 126.26739046784535
    x2: 877.7914250130713
    y2: 396.10207070441123
    z_index: 1
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#FFFFFFFF'
    thickness: 1
    type: rectangle
    x1: -546.5956232252406
    y1: -212.3736974770465
    x2: 612.0537865813798
    y2: 500.61542207776716
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.1.10/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 254.41653550257132
    y1: 242.53623843009984
    z_index: 17
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.2.10/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 263.8600341686579
    y1: 363.75220250181775
    z_index: 17
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: 10.1.3.10/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 266.06646672934363
    y1: 492.2052326789362
    z_index: 17
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: |-
      Credentials for all Hosts
      * Username: cisco
      * Password: cisco
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 896.1526220113376
    y1: -270.70846910953657
    z_index: 18
nodes:
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname R1
          !
          no ip domain lookup
          !
          ! In order to avoid entering a configuration dialog
          ! on boot, please ensure that all ethernet interfaces
          ! have some ip configuration present here such as the
          ! example below:
          !
          interface range Ethernet 0/0 - 3
           no ip address
           shutdown
          !
          interface range Ethernet 1/0 - 3
           no ip address
           shutdown
          !
          interface Ethernet 0/0
           ip address 192.168.1.1 255.255.255.0
           no shutdown
           exit
          !
          interface Ethernet 1/0
           ip address 172.16.1.1 255.255.255.252
           no shutdown
           exit
          !
          interface Ethernet 1/1
           ip address 172.16.2.1 255.255.255.252
           no shutdown
           exit
          !
          router ospf 1
           router-id 1.1.1.1
           network 172.16.1.0 0.0.0.3 area 0
           network 192.168.1.0 0.0.0.255 area 0
           exit
          !
          line con 0
           exec-timeout 0 0
           exit
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n0
    image_definition: null
    label: R1
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 612
    y: -19
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/0
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/1
        slot: 5
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname BRANCH2
          !
          no ip domain lookup
          !
          ! In order to avoid entering a configuration dialog
          ! on boot, please ensure that all ethernet interfaces
          ! have some ip configuration present here such as the
          ! example below:
          !
          interface range Ethernet 0/0 - 3
           no ip address
           shutdown
          !
          interface Ethernet 0/0
           ip address 10.1.2.1 255.255.255.0
           no shutdown
           exit
          !
          interface Ethernet 0/2
           ip address 172.20.1.6 255.255.255.252
           no shutdown
           exit
          !
          line con 0
           exec-timeout 0 0
           exit
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n1
    image_definition: null
    label: BRANCH2
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 499
    y: 320
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname BRANCH3
          !
          no ip domain lookup
          !
          ! In order to avoid entering a configuration dialog
          ! on boot, please ensure that all ethernet interfaces
          ! have some ip configuration present here such as the
          ! example below:
          !
          interface range Ethernet 0/0 - 3
           no ip address
           shutdown
          !
          interface Ethernet 0/0
           ip address 10.1.3.1 255.255.255.0
           no shutdown
           exit
          !
          interface Ethernet 0/3
           ip address 172.20.1.10 255.255.255.252
           no shutdown
           exit
          !
          line con 0
           exec-timeout 0 0
           exit
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n2
    image_definition: null
    label: BRANCH3
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 510
    y: 442
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname BRANCH1
          !
          no ip domain lookup
          !
          ! In order to avoid entering a configuration dialog
          ! on boot, please ensure that all ethernet interfaces
          ! have some ip configuration present here such as the
          ! example below:
          !
          interface range Ethernet 0/0 - 3
           no ip address
           shutdown
          !
          interface Ethernet 0/0
           ip address 10.1.1.1 255.255.255.0
           no shutdown
           exit
          !
          interface Ethernet 0/1
           ip address 172.20.1.2 255.255.255.252
           no shutdown
           exit
          !
          line con 0
           exec-timeout 0 0
           exit
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n3
    image_definition: null
    label: BRANCH1
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 509
    y: 195
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname DC
          !
          !
          no ip domain lookup
          !
          interface Ethernet0/0
           ip address dhcp
           ip nat outside
           no shut
          !
          interface Ethernet0/1
           ip address 172.20.1.1 255.255.255.252
           ip nat inside
           no shut
          !
          interface Ethernet0/2
           ip address 172.20.1.5 255.255.255.252
           ip nat inside
           no shut
          !
          interface Ethernet0/3
           ip address 172.20.1.9 255.255.255.252
           ip nat inside
           no shut
          !
          ip nat inside source list 1 interface Ethernet0/0 overload
          !
          ip access-list standard 1
           10 permit 10.1.0.0 0.0.255.255
           20 permit 172.20.1.0 0.0.0.255
          !
          !
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n4
    image_definition: null
    label: DC
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 722
    y: 319
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: default
        content: NAT
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n5
    image_definition: null
    label: INTERNET
    node_definition: external_connector
    parameters: {}
    ram: null
    tags: []
    x: 960
    y: 321
    interfaces:
      - id: i0
        label: port
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname BR1-PC
          # configurable user account
          USERNAME=cisco
          PASSWORD=cisco
          # Configure network
          ip address add 10.1.1.10/24 dev eth0
          ip route add default via 10.1.1.1
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n6
    image_definition: null
    label: BR1-PC
    node_definition: desktop
    parameters: {}
    ram: null
    tags: []
    x: 331
    y: 197
    interfaces:
      - id: i0
        label: eth0
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname BR2-PC
          # configurable user account
          USERNAME=cisco
          PASSWORD=cisco
          # Configure network
          ip address add 10.1.2.10/24 dev eth0
          ip route add default via 10.1.2.1
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n7
    image_definition: null
    label: BR2-PC
    node_definition: desktop
    parameters: {}
    ram: null
    tags: []
    x: 330
    y: 320
    interfaces:
      - id: i0
        label: eth0
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname BR3-PC
          # configurable user account
          USERNAME=cisco
          PASSWORD=cisco
          # Configure network
          ip address add 10.1.3.10/24 dev eth0
          ip route add default via 10.1.3.1
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n8
    image_definition: null
    label: BR3-PC
    node_definition: desktop
    parameters: {}
    ram: null
    tags: []
    x: 342
    y: 447
    interfaces:
      - id: i0
        label: eth0
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n9
    image_definition: null
    label: SW
    node_definition: ioll2-xe
    parameters: {}
    ram: null
    tags: []
    x: 974
    y: -16
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname inserthostname-here
          # configurable user account
          USERNAME=cisco
          PASSWORD=cisco
          ip address add 10.0.0.200/24 dev eth0
          ip route add default via 10.0.0.254
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n10
    image_definition: null
    label: SRV
    node_definition: desktop
    parameters: {}
    ram: null
    tags: []
    x: 1186
    y: -14
    interfaces:
      - id: i0
        label: eth0
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname R2
          !
          no ip domain lookup
          !
          ! In order to avoid entering a configuration dialog
          ! on boot, please ensure that all ethernet interfaces
          ! have some ip configuration present here such as the
          ! example below:
          !
          interface range Ethernet 0/0 - 3
           no ip address
           shutdown
          !
          interface range Ethernet 1/0 - 3
           no ip address
           shutdown
          !
          track 10 ip route 192.168.1.0 255.255.255.0 reachability
          !
          interface Ethernet 0/0
           ip address 10.0.0.1 255.255.255.0
           standby version 2
           standby 1 ip 10.0.0.254
           standby 1 priority 150
           standby 1 preempt
           standby 1 track 10 decrement 60
           no shutdown
           exit
          !
          interface Ethernet 1/0
           ip address 172.16.1.2 255.255.255.252
           no shutdown
           exit
          !
          router ospf 1
           router-id 2.2.2.2
           network 172.16.1.0 0.0.0.3 area 0
           network 10.0.0.0 0.0.0.255 area 0
           exit
          !
          line con 0
           exec-timeout 0 0
           exit
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n11
    image_definition: null
    label: R2
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 822
    y: -64
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/0
        slot: 4
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname R3
          !
          no ip domain lookup
          !
          ! In order to avoid entering a configuration dialog
          ! on boot, please ensure that all ethernet interfaces
          ! have some ip configuration present here such as the
          ! example below:
          !
          interface range Ethernet 0/0 - 3
           no ip address
           shutdown
          !
          interface range Ethernet 1/0 - 3
           no ip address
           shutdown
          !
          interface Ethernet 0/1
           ip address 10.0.0.2 255.255.255.0
           standby version 2
           standby 1 ip 10.0.0.254
           standby 1 preempt
           no shutdown
           exit
          !
          interface Ethernet 1/1
           ip address 172.16.2.2 255.255.255.252
           no shutdown
           exit
          !
          ip route 192.168.1.0 255.255.255.0 172.16.2.1
          !
          line con 0
           exec-timeout 0 0
           exit
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n12
    image_definition: null
    label: R3
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 818
    y: 50
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/0
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/1
        slot: 5
        type: physical
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname PC
          # configurable user account
          USERNAME=cisco
          PASSWORD=cisco
          ip address add 192.168.1.100/24 dev eth0
          ip route add default via 192.168.1.1
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n13
    image_definition: null
    label: PC
    node_definition: desktop
    parameters: {}
    ram: null
    tags: []
    x: 435
    y: -20
    interfaces:
      - id: i0
        label: eth0
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname Router1
          !
          no ip domain lookup
          !
          interface Loopback0
           ip address 200.200.200.200 255.255.255.0
          !
          interface Ethernet0/0
           ip address 10.1.2.2 255.255.255.252
           no shut
          !
          interface Ethernet0/1
           no ip address
           shutdown
          !
          interface Ethernet0/2
           no ip address
           shutdown
          !
          interface Ethernet0/3
           no ip address
           shutdown
          !
          !
          router eigrp 100
           network 10.0.0.0
           network 200.200.200.0
          !
          router ospf 100
           router-id 0.0.0.1
           network 10.1.2.0 0.0.0.3 area 0
           network 200.200.200.0 0.0.0.255 area 0
          !
          router rip
           version 2
           network 10.0.0.0
           network 200.200.200.0
           no auto-summary
          !
          ip route 200.200.200.0 255.255.255.0 10.1.2.1
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n14
    image_definition: null
    label: Router1
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 1753
    y: 25
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          !
          hostname Router2
          !
          no ip domain lookup
          !
          interface Ethernet0/0
           ip address 10.1.2.1 255.255.255.252
           no shut
          !
          interface Ethernet0/1
           ip address 10.2.3.1 255.255.255.252
           no shut
          !
          interface Ethernet0/2
           ip address 10.2.4.1 255.255.255.252
           no shut
          !
          interface Ethernet0/3
           ip address 10.2.5.1 255.255.255.252
           no shut
          !
          !
          router eigrp 100
           network 10.0.0.0
          !
          router ospf 100
           router-id 0.0.0.2
           network 10.1.2.0 0.0.0.3 area 0
           network 10.2.3.0 0.0.0.3 area 0
           network 10.2.4.0 0.0.0.3 area 0
           network 10.2.5.0 0.0.0.3 area 0
          !
          router rip
           version 2
           network 10.0.0.0
           no auto-summary
          !
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n15
    image_definition: null
    label: Router2
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 1750
    y: 190
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname Router3
          !
          no ip domain lookup
          !
          interface Loopback0
           ip address 200.200.200.200 255.255.255.0
          !
          interface Ethernet0/0
           no ip address
           shutdown
          !
          interface Ethernet0/1
           ip address 10.2.3.2 255.255.255.252
           no shut
          !
          interface Ethernet0/2
           no ip address
           shutdown
          !
          interface Ethernet0/3
           no ip address
           shutdown
          !
          !
          router eigrp 100
           network 10.0.0.0
           network 200.200.200.0
          !
          router ospf 100
           router-id 0.0.0.3
           network 10.2.3.0 0.0.0.3 area 0
           network 200.200.200.0 0.0.0.255 area 0
          !
          router rip
           version 2
           network 10.0.0.0
           network 200.200.200.0
           no auto-summary
          !
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          !
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n16
    image_definition: null
    label: Router3
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 1522
    y: 356
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          hostname Router4
          !
          !
          no ip domain lookup
          !
          !
          interface Loopback0
           ip address 200.200.200.200 255.255.255.0
          !
          interface Ethernet0/0
           no ip address
           shutdown
          !
          interface Ethernet0/1
           no ip address
           shutdown
          !
          interface Ethernet0/2
           ip address 10.2.4.2 255.255.255.252
           no shut
          !
          interface Ethernet0/3
           no ip address
           shutdown
          !
          !
          router eigrp 100
           network 10.0.0.0
           network 200.200.200.0
          !
          router ospf 100
           router-id 0.0.0.4
           network 10.2.4.0 0.0.0.3 area 0
           network 200.200.200.0 0.0.0.255 area 0
          !
          router rip
           version 2
           network 10.0.0.0
           network 200.200.200.0
           no auto-summary
          !
          !
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n17
    image_definition: null
    label: Router4
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 1749
    y: 361
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          !
          hostname Router5
          !
          !
          no ip domain lookup
          !
          interface Loopback0
           ip address 200.200.200.200 255.255.255.0
          !
          interface Ethernet0/0
           no ip address
           shutdown
          !
          interface Ethernet0/1
           no ip address
           shutdown
          !
          interface Ethernet0/2
           no ip address
           shutdown
          !
          interface Ethernet0/3
           ip address 10.2.5.2 255.255.255.252
           no shut
          !
          !
          router eigrp 100
           network 10.0.0.0
           network 200.200.200.0
          !
          router ospf 100
           router-id 0.0.0.5
           network 10.2.5.0 0.0.0.3 area 0
           network 200.200.200.0 0.0.0.255 area 0
          !
          router rip
           version 2
           network 10.0.0.0
           network 200.200.200.0
           no auto-summary
          !
          !
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n18
    image_definition: null
    label: Router5
    node_definition: iol-xe
    parameters: {}
    ram: null
    tags: []
    x: 1995
    y: 356
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: Ethernet0/0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        slot: 3
        type: physical
links:
  - id: l0
    n1: n6
    n2: n3
    i1: i0
    i2: i1
    conditioning: {}
    label: BR1-PC-eth0<->BRANCH1-Ethernet0/0
  - id: l1
    n1: n7
    n2: n1
    i1: i0
    i2: i1
    conditioning: {}
    label: BR2-PC-eth0<->BRANCH2-Ethernet0/0
  - id: l2
    n1: n8
    n2: n2
    i1: i0
    i2: i1
    conditioning: {}
    label: BR3-PC-eth0<->BRANCH3-Ethernet0/0
  - id: l3
    n1: n3
    n2: n4
    i1: i2
    i2: i2
    conditioning: {}
    label: BRANCH1-Ethernet0/1<->DC-Ethernet0/1
  - id: l4
    n1: n1
    n2: n4
    i1: i3
    i2: i3
    conditioning: {}
    label: BRANCH2-Ethernet0/2<->DC-Ethernet0/2
  - id: l5
    n1: n2
    n2: n4
    i1: i4
    i2: i4
    conditioning: {}
    label: BRANCH3-Ethernet0/3<->DC-Ethernet0/3
  - id: l6
    n1: n4
    n2: n5
    i1: i1
    i2: i0
    conditioning: {}
    label: DC-Ethernet0/0<->INTERNET-port
  - id: l7
    n1: n10
    n2: n9
    i1: i0
    i2: i4
    conditioning: {}
    label: desktop-0-eth0<->iol-l2-0-Ethernet0/3
  - id: l8
    n1: n11
    n2: n9
    i1: i1
    i2: i1
    conditioning: {}
    label: R2-Ethernet0/0<->SW-Ethernet0/0
  - id: l9
    n1: n12
    n2: n9
    i1: i2
    i2: i2
    conditioning: {}
    label: R3-Ethernet0/1<->SW-Ethernet0/1
  - id: l10
    n1: n0
    n2: n12
    i1: i6
    i2: i6
    conditioning: {}
    label: R1-Ethernet1/1<->R3-Ethernet1/1
  - id: l11
    n1: n13
    n2: n0
    i1: i0
    i2: i1
    conditioning: {}
    label: desktop-0-eth0<->R1-Ethernet0/0
  - id: l12
    n1: n14
    n2: n15
    i1: i1
    i2: i1
    conditioning: {}
    label: Router1-Ethernet0/0<->Router2-Ethernet0/0
  - id: l13
    n1: n15
    n2: n16
    i1: i2
    i2: i2
    conditioning: {}
    label: Router2-Ethernet0/1<->Router3-Ethernet0/1
  - id: l14
    n1: n15
    n2: n17
    i1: i3
    i2: i3
    conditioning: {}
    label: Router2-Ethernet0/2<->Router4-Ethernet0/2
  - id: l15
    n1: n15
    n2: n18
    i1: i4
    i2: i4
    conditioning: {}
    label: Router2-Ethernet0/3<->Router5-Ethernet0/3
  - id: l16
    n1: n0
    n2: n11
    i1: i5
    i2: i5
    conditioning: {}
    label: R1-Ethernet1/0<->R2-Ethernet1/0
lab:
  description: ''
  notes: |-
    **CCNA Exam Prep: Back to Networking Basics with Hank Preston and Patrick Gargano**

    # Routing Fundamentals & Static Routes: Master concepts and static routes

    Static routes are often used in small networks that require simple routing and are also found in hub-and-spoke networks. In this lab, you will:

    * Configure static routes
    * Configure default routes
    * Configure floating static routes
    * Explore the route selection process

    ## Setup and Scenario
    In this set of lab-based demonstrations, you are the network engineer for a growing organization.

    In Part 1, you are tasked with deploying static routes to ensure that branch locations have internet access. In Part 2, you must implement routing redundancy to ensure connectivity between the PC and SRV devices in case of a failure across the primary OSPF path. In Part 3 you will explore how routers select the best path when comparing connected, static, and dynamic routes.

    *Be sure to **START** the lab before continuing to the demo labs.*

    ## Part 1: Configure static and default routes
    Static routes are commonly used when you are routing from a network to a stub network, for example in a hub-and-spoke topology like the one used here. Static routes can also be useful for specifying a "gateway of last resort" to which all packets with an unknown destination address are sent.

    Recall that when configuring a static route, you must follow these steps:

    * Specify an IPv4 destination network and mask
    * Specify the next hop with one of the following:
      * The IPv4 address of the next-hop router
      * The outbound interface of the local router (G0/0)
      * The outbound interface of the local router and the IPv4 address of the next hop (fully specified route)

    ### Step 1
    On the DC router, configure a static route to the BRANCH1 LAN (10.1.1.0/24) by only specifying the next-hop IP address of the BRANCH1 router.

    <pre>
    DC(config)# <b>ip route 10.1.1.0 255.255.255.0 172.20.1.2</b>
    </pre>

    This first static route tells the DC that to reach the 10.1.1.0/24 network it should send packets to the 172.20.1.2 address which is the next-hop IP address of the BRANCH1 router.

    ### Step 2
    On the DC router, configure a static route to the BRANCH2 LAN (10.1.2.0/24) by only specifying the outbound interface. This configuration is typically used on point-to-point interfaces like HDLC and PPP.

    When the egress interface in the static route is a multiaccess interface, such as Ethernet (or a serial interface running Frame Relay or Asynchronous Transfer Mode [ATM]), the solution is likely to cause complications or errors if multiple devices share the link.

    You won't encounter any issues in this lab since the Ethernet link in question only includes BRANCH2 and DC.

    <pre>
    DC(config)# <b>ip route 10.1.2.0 255.255.255.0 Ethernet 0/2</b>
    </pre>

    This second static route tells the DC router that to reach the 10.1.2.0/24 network it must send packets out of the Ethernet0/2 interface.

    ### Step 3
    On the DC router, configure a fully specified static route to the BRANCH3 LAN (10.1.3.0/24) that includes the BRANCH3 next-hop IP and the outbound interface.

    <pre>
    DC(config)# <b>ip route 10.1.3.0 255.255.255.0 Ethernet 0/3 172.20.1.10</b>
    </pre>

    This third static route tells the DC router that to reach the 10.1.3.0/24 network it must send packets out of the Ethernet0/3 interface to the next-hop IP of the BRANCH3 router.

    ### Step 4
    On the DC router, use the `show ip route static` command to verify that all three static routes are present.

    <pre>
    DC# <b>show ip route static</b>
    Codes: L - local, C - connected, <b>S - static</b>, R - RIP, M - mobile, B - BGP
           D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
           N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
           E1 - OSPF external type 1, E2 - OSPF external type 2, m - OMP
           n - NAT, Ni - NAT inside, No - NAT outside, Nd - NAT DIA
           i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
           ia - IS-IS inter area, * - candidate default, U - per-user static route
           H - NHRP, G - NHRP registered, g - NHRP registration summary
           o - ODR, P - periodic downloaded static route, l - LISP
           a - application route
           + - replicated route, % - next hop override, p - overrides from PfR
           & - replicated local route overrides by connected

    Gateway of last resort is 192.168.255.1 to network 0.0.0.0

    S*    0.0.0.0/0 [254/0] via 192.168.255.1
          10.0.0.0/24 is subnetted, 3 subnets
    <b>S        10.1.1.0 [1/0] via 172.20.1.2
    S        10.1.2.0 is directly connected, Ethernet0/2
    S        10.1.3.0 [1/0] via 172.20.1.10, Ethernet0/3</b>
    </pre>

    Notice that the first static route to the 10.1.1.0/24 network shows the next-hop IP of BRANCH1, the second static route to 10.1.2.0/24 shows the outbound interface that the DC router must use to reach the BRANCH2 router, and the third static router shows both the next-hop IP address of BRANCH3 and the local outbound interface that the DC router muse us to reach the 10.1.3.0/24 network.

    >Note: The DC router already has a default route configured (S*). This route was automatically added to the routing table when the DC router obtained a DHCP address on the interface connected to the Internet cloud. This cloud is a CML device called External Connector and it is configured in NAT mode to allow the lab devices internet access.

    At this point the DC router can reach the Branch LANs but the Branch routers will drop return traffic since they won't know how to route those packets. You will now correct this by deploying default routes on the Branch routers.

    ### Step 5
    On all three Branch routers, configure a default route to send all packets with unknown destinations to the DC router. Use the next-hop IP address in your configuration command.

    <pre>
    BRANCH1(config)# <b>ip route 0.0.0.0 0.0.0.0 172.20.1.1</b>
    </pre>

    <pre>
    BRANCH2(config)# <b>ip route 0.0.0.0 0.0.0.0 172.20.1.5</b>
    </pre>

    <pre>
    BRANCH3(config)# <b>ip route 0.0.0.0 0.0.0.0 172.20.1.9</b>
    </pre>

    A default static route is a route that matches the destination address of all packets that don’t match any other more specific routes in the routing table.

    Routers will use a default static route (or any default route) to forward traffic in two cases:

    1. When no other routes in the routing table match the destination IP address of the packet
    1. When a more specific match does not exist

    Some common circumstances when a network engineer might deploy a default static route are:

    1. To connect the edge router of a company to an ISP network.
    1. When a router has only one other router to which it is connected. This condition is known as a stub router.
        > An example of this is the hub-and-spoke topology you are using in Part 1.

    ### Step 6
    On the Branch routers, use the `show ip route static` command to verify that the default route is present in the routing table. The BRANCH1 routing table is shown below. The routing table on BRANCH2 and BRANCH3 should be similar - the only difference will be that the next-hop IP address will vary.

    <pre>
    BRANCH1# <b>sh ip route static</b>
    Codes: L - local, C - connected, <b>S - static</b>, R - RIP, M - mobile, B - BGP
           D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
           N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
           E1 - OSPF external type 1, E2 - OSPF external type 2, m - OMP
           n - NAT, Ni - NAT inside, No - NAT outside, Nd - NAT DIA
           i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
           ia - IS-IS inter area, <b>* - candidate default</b>, U - per-user static route
           H - NHRP, G - NHRP registered, g - NHRP registration summary
           o - ODR, P - periodic downloaded static route, l - LISP
           a - application route
           + - replicated route, % - next hop override, p - overrides from PfR
           & - replicated local route overrides by connected

    Gateway of last resort is 172.20.1.1 to network 0.0.0.0

    <b>S*    0.0.0.0/0 [1/0] via 172.20.1.1</b>
    </pre>

    ### Step 7
    Verify that all Branch hosts are able to access the internet. Ping from the Branch hosts to the well-known Google public DNS IP address of 8.8.8.8.

    <pre>
    BR1-PC:~$ <b>ping 8.8.8.8</b>
    PING 8.8.8.8 (8.8.8.8): 56 data bytes
    64 bytes from 8.8.8.8: seq=0 ttl=42 time=1.997 ms
    64 bytes from 8.8.8.8: seq=1 ttl=42 time=2.816 ms
    64 bytes from 8.8.8.8: seq=2 ttl=42 time=2.487 ms
    64 bytes from 8.8.8.8: seq=3 ttl=42 time=2.141 ms
    ^C
    --- 8.8.8.8 ping statistics ---
    4 packets transmitted, 4 packets received, 0% packet loss
    round-trip min/avg/max = 1.997/2.360/2.816 ms
    BR1-PC:~$
    </pre>

    The output above shows that the BR1-PC has access to the internet. You should get similar results from the BR2-PC and the BR3-PC.

    You have successfully implemented static and default routes between the Branch and DC routers.

    ## Part 2: Configure floating static routes

    In this scenario. the PC has two available paths to reach the SRV device. It can take the path through R2 or the path through R3. The primary path is through R2 and that path is learned via OSPF. The path through R3 is the backup path but no dynamic routing is configured to advertise that path. Your task is to verify the current configuration and connectivity through R2, then implement a floating static route that will allow the PC to take the path through R3 if a failure occurs over the primary path. OSPF is already pre-configured on R2.


    ### Step 1
    On R1 use the `show ip route ospf` command to verify that R1 is learning the 10.0.0.0/24 network from R2.

    <pre>
    R1# <b>show ip route ospf</b>
    Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
           D - EIGRP, EX - EIGRP external, <b>O - OSPF</b>, IA - OSPF inter area
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/24 is subnetted, 1 subnets
    O        10.0.0.0 [110/20] via 172.16.1.2, 6d20h, Ethernet1/0
    </pre>

    The output shows that R1 is learning the 10.0.0.0/24 network via OSPF and that R1 can reach that network through the 172.16.1.2 next-hop out of interface Ethernet 1/0. Notice that the OSPF route has a default administrative distance (AD) of 110.

    ### Step 2
    From the PC device, test reachability and trace the path that the PC takes to reach the SRV device.

    <pre>
    PC:~$ <b>ping 10.0.0.200</b>
    PING 10.0.0.200 (10.0.0.200): 56 data bytes
    64 bytes from 10.0.0.200: seq=0 ttl=42 time=2.708 ms
    64 bytes from 10.0.0.200: seq=1 ttl=42 time=2.692 ms
    64 bytes from 10.0.0.200: seq=2 ttl=42 time=2.504 ms
    64 bytes from 10.0.0.200: seq=3 ttl=42 time=3.264 ms
    ^C
    --- 10.0.0.200 ping statistics ---
    4 packets transmitted, 4 packets received, 0% packet loss
    round-trip min/avg/max = 2.504/2.792/3.264 ms

    PC:~$ <b>traceroute -n 10.0.0.200</b>
    traceroute to 10.0.0.200 (10.0.0.200), 30 hops max, 46 byte packets
     1  192.168.1.1  0.831 ms  0.476 ms  0.534 ms
     2  172.16.1.2  1.152 ms  0.736 ms  0.684 ms
     3  10.0.0.200  1.996 ms  1.367 ms  1.287 ms
    PC:~$
    </pre>

    The ping should be successful and the traceroute should show that the PC is taking the path through R2 to reach the SRV device.

    ### Step 3
    On R1, configure a fully specified static route for the 10.0.0.0/24 network. Since the default administrative value is 1, it will replace the identical OSPF prefix, which is not the desired outcome in our case.

    <pre>
    R1(config)# <b>ip route 10.0.0.0 255.255.255.0 Ethernet1/1 172.16.2.2 </b>
    </pre>

    Use the `show ip route` command on R1 to verify the current state of the routing table.

    <pre>
    R1# <b>show ip route</b>
    Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/24 is subnetted, 1 subnets
    <b>S        10.0.0.0 [1/0] via 172.16.2.2, Ethernet1/1</b>
    <... output omitted ...>
    </pre>

    By default, static routes have a very low administrative distance of 1, which means that your router will prefer a static route over any routes that were learned through a dynamic routing protocol.

    If you want to use a static route as a backup route (so called floating static route), you will have to change its administrative distance to a value higher than the value assigned to the dynamic routing protocol.

    On R1, configure the same a fully specified static route for the 10.0.0.0/24 network but assign it with an administrative distance of 220. This will create the floating static route. A floating static route is a static route with administrative distance greater than 1.

    Since OSPF has a default administrative distance of 110, you need to configure the floating static route to a value above that. The AD value of 220 is not used by any other routing protocol.

    To change the administrative distance of a static route, add the administrative distance parameter to the command. For example, to change the administrative distance to 220, add number 220 at the end of the static route configuration.

    <pre>
    R1(config)# <b>ip route 10.0.0.0 255.255.255.0 Ethernet1/1 172.16.2.2 220</b>
    </pre>

    If now you check the routing table on R1, you will not find the newly created floating static route since its AD value of 220 is higher than the current OSPF route to the same network.

    In the next step, you will enable debugging and then cause a failure on the OSPF path and see if the floating static route appears in the routing table.

    ### Step 4
    On R1, enable the `debug ip routing` command.

    Delete the link between R1 and R2 to simulate a failure across the OSPF path. R1 will wait 40 seconds before declaring the OSPF neighbor down since that is the default value of the OSPF dead timer. Normally, on actual network equipment, removing a cable would cause the interface to go down. OSPF responds immediately to those types of failures. Since CML is running virtual router images, deleting the link does not cause the router's interface to go down automatically.

    Right-click on the link between R1 and R2 and select **Delete** from the popup menu.

    After 40 seconds, you will see the following message at the R1 prompt:

    <pre>*Oct  9 15:29:29.978: %OSPF-5-ADJCHG: Process 1, Nbr 2.2.2.2 on Ethernet1/0 from FULL to DOWN, Neighbor Down: Dead timer expired
    R1#
    *Oct  9 15:29:30.080: RT: del 10.0.0.0 via 172.16.1.2, ospf metric [110/20]
    *Oct  9 15:29:30.080: RT: delete subnet route to 10.0.0.0/24
    *Oct  9 15:29:30.080: RT: updating static 10.0.0.0/24 (0x0) omp-tag:0  :
        via 172.16.2.2 Et1/1  0 0 0x0 1048578 0x100001

    *Oct  9 15:29:30.080: RT: add 10.0.0.0/24 via 172.16.2.2, static metric [220/0]</pre>

    The output shows that:
    * The OSPF neighbor relationship between R1 and R2 has gone down.
    * The OSPF 10.0.0.0 prefix has been removed from the routing table.
    * The floating static route with an AD of 220 has been added to the routing table.


    ### Step 5
    On R1, use the `show ip route static` command to verify that the floating static route is now present in the routing table.

    <pre>
    R1# <b>show  ip route static   </b>
    Codes: L - local, C - connected, <b>S - static</b>, R - RIP, M - mobile, B - BGP
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/24 is subnetted, 1 subnets
    S        10.0.0.0 [<b>220</b>/0] via 172.16.2.2, Ethernet1/1
    </pre>

    Notice that the static route to the 10.0.0.0/24 network has replaced the OSPF route and that the AD value is 220.

    ### Step 6
    From the PC device, test reachability and trace the path that the PC takes to reach the SRV device.

    <pre>
    PC:~$ <b>ping 10.0.0.200</b>
    PING 10.0.0.200 (10.0.0.200): 56 data bytes
    64 bytes from 10.0.0.200: seq=0 ttl=42 time=2.905 ms
    64 bytes from 10.0.0.200: seq=1 ttl=42 time=2.695 ms
    64 bytes from 10.0.0.200: seq=2 ttl=42 time=2.293 ms
    ^C
    --- 10.0.0.200 ping statistics ---
    3 packets transmitted, 3 packets received, 0% packet loss
    round-trip min/avg/max = 2.293/2.631/2.905 ms

    PC:~$ <b>traceroute -n 10.0.0.200</b>
    traceroute to 10.0.0.200 (10.0.0.200), 30 hops max, 46 byte packets
     1  192.168.1.1  0.636 ms  0.381 ms  0.325 ms
     2  172.16.2.2  0.828 ms  0.540 ms  0.493 ms
     3  10.0.0.200  1.596 ms  1.080 ms  1.091 ms
    PC:~$
     </pre>

    The ping should be successful and the traceroute should show that the PC takes the path through R3 to reach the SRV device.

    ### Step 7

    Reestablish the link between R1 E1/0 and R2 E1/0. Within a few seconds the OSPF neighbor will come back up and the OSPF route to the 10.0.0.0/24 network should replace the floating static route.


    ## Part 3: Explore the route selection process

    In this part of the lab you will explore how a Cisco router builds its routing table by selecting the best paths available. You will also learn about how the router uses the routing table to make packet forwarding decisions based on the longest prefix match.

    The topology for Part 3 is pre-configured with static (R1) and dynamic routing (R1, R2, R3, R4, and R5) as follows:

    R1
    <pre>
    router eigrp 100
     network 10.0.0.0
     network 200.200.200.0
    router ospf 100
     router-id 0.0.0.1
     network 10.1.2.0 0.0.0.3 area 0
     network 200.200.200.0 0.0.0.255 area 0
    router rip
     version 2
     network 10.0.0.0
     network 200.200.200.0
     no auto-summary
    ip route 200.200.200.0 255.255.255.0 10.1.2.1
    </pre>

    R2
    <pre>
    router eigrp 100
     network 10.0.0.0
    router ospf 100
     router-id 0.0.0.2
     network 10.1.2.0 0.0.0.3 area 0
     network 10.2.3.0 0.0.0.3 area 0
     network 10.2.4.0 0.0.0.3 area 0
     network 10.2.5.0 0.0.0.3 area 0
    router rip
     version 2
     network 10.0.0.0
     no auto-summary
    </pre>

    R3
    <pre>
    router eigrp 100
     network 10.0.0.0
     network 200.200.200.0
    router ospf 100
     router-id 0.0.0.3
     network 10.2.3.0 0.0.0.3 area 0
     network 200.200.200.0 0.0.0.255 area 0
    router rip
     version 2
     network 10.0.0.0
     network 200.200.200.0
     no auto-summary
    </pre>

    R4
    <pre>
    router eigrp 100
     network 10.0.0.0
     network 200.200.200.0
    router ospf 100
     router-id 0.0.0.4
     network 10.2.4.0 0.0.0.3 area 0
     network 200.200.200.0 0.0.0.255 area 0
    router rip
     version 2
     network 10.0.0.0
     network 200.200.200.0
     no auto-summary
    </pre>

    R5
    <pre>
    router eigrp 100
     network 10.0.0.0
     network 200.200.200.0
    router ospf 100
     router-id 0.0.0.5
     network 10.2.5.0 0.0.0.3 area 0
     network 200.200.200.0 0.0.0.255 area 0
    router rip
     version 2
     network 10.0.0.0
     network 200.200.200.0
     no auto-summary
    </pre>

    All five routers are configured with the same Loopback0 IP address (200.200.200.200.200/24) to create interesting results across the routing tables. R1 is also configured with a static route to 200.200.200.0/24.

    You will explore the results of this routing configuration in the following steps.


    ### Step 1
    On each router use the `show ip route` command to analyze the current state of the routing tables.

    <pre>
    Router1# <b>show ip route</b>
    Codes: <b>L - local, C - connected</b>, S - static, R - RIP, M - mobile, B - BGP
           <b>D - EIGRP</b>, EX - EIGRP external, O - OSPF, IA - OSPF inter area
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    C        10.1.2.0/30 is directly connected, Ethernet0/0
    L        10.1.2.2/32 is directly connected, Ethernet0/0
    D        10.2.3.0/30 [90/307200] via 10.1.2.1, 20:14:21, Ethernet0/0
    D        10.2.4.0/30 [90/307200] via 10.1.2.1, 20:14:21, Ethernet0/0
    D        10.2.5.0/30 [90/307200] via 10.1.2.1, 20:14:21, Ethernet0/0
          200.200.200.0/24 is variably subnetted, 2 subnets, 2 masks
    C        200.200.200.0/24 is directly connected, Loopback0
    L        200.200.200.200/32 is directly connected, Loopback0

    Router2# <b>show ip route</b>
    Codes: <b>L - local, C - connected</b>, S - static, R - RIP, M - mobile, B - BGP
           <b>D - EIGRP</b>, EX - EIGRP external, <b>O - OSPF</b>, IA - OSPF inter area
    <... output omitted ...>
         10.0.0.0/8 is variably subnetted, 8 subnets, 2 masks
    C        10.1.2.0/30 is directly connected, Ethernet0/0
    L        10.1.2.1/32 is directly connected, Ethernet0/0
    C        10.2.3.0/30 is directly connected, Ethernet0/1
    L        10.2.3.1/32 is directly connected, Ethernet0/1
    C        10.2.4.0/30 is directly connected, Ethernet0/2
    L        10.2.4.1/32 is directly connected, Ethernet0/2
    C        10.2.5.0/30 is directly connected, Ethernet0/3
    L        10.2.5.1/32 is directly connected, Ethernet0/3
          200.200.200.0/24 is variably subnetted, 2 subnets, 2 masks
    D        200.200.200.0/24 [90/409600] via 10.2.5.2, 00:12:28, Ethernet0/3
                              [90/409600] via 10.2.4.2, 00:12:28, Ethernet0/2
                              [90/409600] via 10.2.3.2, 00:12:28, Ethernet0/1
                              [90/409600] via 10.1.2.2, 00:12:28, Ethernet0/0
    O        200.200.200.200/32 [110/11] via 10.2.5.2, 00:12:24, Ethernet0/3
                                [110/11] via 10.2.4.2, 00:12:29, Ethernet0/2
                                [110/11] via 10.2.3.2, 00:12:35, Ethernet0/1
                                [110/11] via 10.1.2.2, 20:20:34, Ethernet0/0

    Router3# <b>show ip route</b>
    <... output omitted ...>
          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    D        10.1.2.0/30 [90/307200] via 10.2.3.1, 00:05:41, Ethernet0/1
    C        10.2.3.0/30 is directly connected, Ethernet0/1
    L        10.2.3.2/32 is directly connected, Ethernet0/1
    D        10.2.4.0/30 [90/307200] via 10.2.3.1, 00:05:41, Ethernet0/1
    D        10.2.5.0/30 [90/307200] via 10.2.3.1, 00:05:41, Ethernet0/1
          200.200.200.0/24 is variably subnetted, 2 subnets, 2 masks
    C        200.200.200.0/24 is directly connected, Loopback0
    L        200.200.200.200/32 is directly connected, Loopback0

    Router4# <b>show ip route</b>
    <... output omitted ...>
          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    D        10.1.2.0/30 [90/307200] via 10.2.4.1, 00:15:32, Ethernet0/2
    D        10.2.3.0/30 [90/307200] via 10.2.4.1, 00:15:32, Ethernet0/2
    C        10.2.4.0/30 is directly connected, Ethernet0/2
    L        10.2.4.2/32 is directly connected, Ethernet0/2
    D        10.2.5.0/30 [90/307200] via 10.2.4.1, 00:15:32, Ethernet0/2
          200.200.200.0/24 is variably subnetted, 2 subnets, 2 masks
    C        200.200.200.0/24 is directly connected, Loopback0
    L        200.200.200.200/32 is directly connected, Loopback0


    Router5# <b>show ip route</b>
    <... output omitted ...>
          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    D        10.1.2.0/30 [90/307200] via 10.2.5.1, 00:16:05, Ethernet0/3
    D        10.2.3.0/30 [90/307200] via 10.2.5.1, 00:16:05, Ethernet0/3
    D        10.2.4.0/30 [90/307200] via 10.2.5.1, 00:16:05, Ethernet0/3
    C        10.2.5.0/30 is directly connected, Ethernet0/3
    L        10.2.5.2/32 is directly connected, Ethernet0/3
          200.200.200.0/24 is variably subnetted, 2 subnets, 2 masks
    C        200.200.200.0/24 is directly connected, Loopback0
    L        200.200.200.200/32 is directly connected, Loopback0
    </pre>

    An analysis of these routing tables show that:
    * R1, R3, R4, and R5 have a directly connected Loopback0 interface as the preferred route to the 200.200.200.0/24 network.
    * R1, R3, R4, and R5 are learning three EIGRP routes for the links between them and R2
    * R2 has multiple entries for 200.200.200.0/24 learned from EIGRP, and multiple entries for 200.200.200.200/32 learned from OSPF. Since the metrics are identical for all four 200.200.200.0/24 EIGRP routes (409600), all four are installed in the routing table for load balancing. The same logic applies to the four 200.200.200.200/32 OSPF entries with a metric of 11.

    By default, OSPF will advertise any subnet that is configured on a loopback interface as /32 host route, compared to the same loopbacks being advertised by EIGRP with a /24 mask.

    Routing tables can be populated from three sources: directly connected networks, static routes, and routing protocols. The router must evaluate the routing information from all the sources and select the best route to each destination network to install into the routing table.

    A router can be configured with multiple routing protocols and static routes. The routing table may have more than one route source for the same destination network if this occurs. Cisco IOS Software uses what is known as the administrative distance (AD) to determine the route to install into the IP routing table. The administrative distance represents the "trustworthiness" of the route; the lower the administrative distance, the more trustworthy the route source. Each source type has a default administrative distance, as follows:

    | Route Source  | Default AD  |
    | ------------- |:-----------:|
    | Connected     |  0  |
    | Static     |  1  |
    | EIGRP     |  90  |
    | OSPF     |  110  |
    | RIP     |  120  |


    ### Step 2
    On R1, shutdown the Loopback0 interface and use the `show ip route` command to observe what occurs in the routing table.

    <pre>
    Router1(config)# <b>int Lo0 </b>
    Router1(config-if)# <b>shutdown</b>
    Router1(config-if)#
    *Oct  8 16:24:41.076: %LINEPROTO-5-UPDOWN: Line protocol on Interface Loopback0, changed state to down
    *Oct  8 16:24:41.076: %LINK-5-CHANGED: Interface Loopback0, changed state to administratively down
    Router1(config-if)# <b>end</b>
    Router1# <b>show ip route</b>
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    C        10.1.2.0/30 is directly connected, Ethernet0/0
    L        10.1.2.2/32 is directly connected, Ethernet0/0
    D        10.2.3.0/30 [90/307200] via 10.1.2.1, 21:12:27, Ethernet0/0
    D        10.2.4.0/30 [90/307200] via 10.1.2.1, 21:12:27, Ethernet0/0
    D        10.2.5.0/30 [90/307200] via 10.1.2.1, 21:12:27, Ethernet0/0
          200.200.200.0/24 is variably subnetted, 2 subnets, 2 masks
    S        200.200.200.0/24 [1/0] via 10.1.2.1
    O        200.200.200.200/32 [110/21] via 10.1.2.1, 00:00:11, Ethernet0/0
    </pre>

    Notice that the 200.200.200.0/24 directly connected entry has been replaced by the equivalent pre-configured static route. Also notice that the 200.200.200.200/32 locally configured address has been replaced by the OSPF 200.200.200.200/32 entry.

    Since the directly connected interface with an AD of 0 has been shut down, the static route with an AD of 1 can take its place. The same applies for the OSPF /32 entry with an AD of 110.

    ### Step 3
    On R1, remove the static route to 200.200.200.0/24 and then verify the routing table.

    <pre>
    Router1(config)# <b>no ip route 200.200.200.0 255.255.255.0 10.1.2.1</b>
    Router1(config)# <b>end</b>
    Router1# <b>show ip route</b>
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    C        10.1.2.0/30 is directly connected, Ethernet0/0
    L        10.1.2.2/32 is directly connected, Ethernet0/0
    D        10.2.3.0/30 [90/307200] via 10.1.2.1, 21:20:46, Ethernet0/0
    D        10.2.4.0/30 [90/307200] via 10.1.2.1, 21:20:46, Ethernet0/0
    D        10.2.5.0/30 [90/307200] via 10.1.2.1, 21:20:46, Ethernet0/0
          200.200.200.0/32 is subnetted, 1 subnets
    O        200.200.200.200 [110/21] via 10.1.2.1, 00:08:30, Ethernet0/0
    </pre>

    R1 now has only one entry for the 200.200.200.200/32 network learned through OSPF.

    With the Loopback0 interface shutdown on  R1, the R2 router will now only have three entries load-balancing for the 200.200.200.0/24 and 200.200.200.200/32 prefixes.

    ### Step 4
    Next, observe what occurs on R1 if you disable EIGRP. Recall that in the previous step, EIGRP was responsible for adding three prefixes to the R1 routing table since its AD is 90. With EIGRP disabled, the next most trustworthy routing protocol (OSPF) should add those prefixes back in.

    <pre>
    Router1(config)# <b>no router eigrp 100</b>
    Router1(config)# <b>end</b>
    Router1# <b>show ip route</b>
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    C        10.1.2.0/30 is directly connected, Ethernet0/0
    L        10.1.2.2/32 is directly connected, Ethernet0/0
    <b>O        10.2.3.0/30 [110/20] via 10.1.2.1, 00:00:07, Ethernet0/0
    O        10.2.4.0/30 [110/20] via 10.1.2.1, 00:00:07, Ethernet0/0
    O        10.2.5.0/30 [110/20] via 10.1.2.1, 00:00:07, Ethernet0/0</b>
          200.200.200.0/32 is subnetted, 1 subnets
    O        200.200.200.200 [110/21] via 10.1.2.1, 00:00:07, Ethernet0/0
    </pre>

    Notice that the three EIGRP prefixes have been replaced by their OSPF equivalent.

    ### Step 5
    Finally, if you disable OSPF, the same prefixes should be added back into the routing table as RIP routes with the least favorable AD of 120.

    <pre>
    Router1(config)# <b>no router ospf 100</b>
    *Oct  9 00:03:27.706: %OSPF-5-ADJCHG: Process 100, Nbr 0.0.0.2 on Ethernet0/0 from FULL to DOWN, Neighbor Down: Interface down or detached
    Router1(config)# <b>end</b>
    Router1# <b>show ip route</b>

    Codes: L - local, C - connected, S - static, <b>R - RIP</b>, M - mobile, B - BGP
           D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
    <... output omitted ...>

    Gateway of last resort is not set

          10.0.0.0/8 is variably subnetted, 5 subnets, 2 masks
    C        10.1.2.0/30 is directly connected, Ethernet0/0
    L        10.1.2.2/32 is directly connected, Ethernet0/0
    <b>R        10.2.3.0/30 [120/1] via 10.1.2.1, 00:00:02, Ethernet0/0
    R        10.2.4.0/30 [120/1] via 10.1.2.1, 00:00:02, Ethernet0/0
    R        10.2.5.0/30 [120/1] via 10.1.2.1, 00:00:02, Ethernet0/0</b>
    </pre>

    Notice that all OSPF routes are removed from the routing table, including the 200.200.200.200/32 prefix. Now, all that remains are the three RIP routes.

    A Cisco router will use a combination of AD and metric to add prefixes to the routing table, as demonstrated in the previous steps. Within a specific routing process, the router will use the metric to select the best route. When multiple routing process learn the same prefixes, the winner is based on the administrative distance. Once the routes are installed in the routing table, the router will then use the longest prefix to select the best route for a packet. The longest match always wins among the routes installed in the routing table, that is, among entries already in the routing table. For example, consider the following routing table:

    <pre>
    O        172.16.0.0<b>/12</b> [110/35] via 192.168.1.1, 00:12:42, Ethernet0/0
    R        172.16.0.0<b>/18</b> [120/4] via 192.168.2.1, 00:04:27, Ethernet0/1
    D        172.16.0.0<b>/26</b> [90/307200] via 192.168.3.1, 00:06:22, Ethernet0/2
    </pre>

    OSPF, RIP, and EIGRP are all learning similar prefixes, but each has a different prefix length, /12, /18, and /26. If a packet arrives that is destined for 172.16.0.20, which route will the router choose? The best match is the route in the routing table that has the most number of far left matching bits with the destination IPv4 address of the packet. The route with the greatest number of equivalent far left bits, or the longest match, is always the preferred route. Of the three routes, 172.16.0.0/26 has the longest match and is therefore chosen to forward the packet to 192.168.3.1 out of interface Ethernet 0/2.

    Consider this next example. According to the following routing table entries, where will the router send a packet destined to 192.168.10.94

    <pre>
    O        192.168.10.0<b>/24</b> [110/35] via 192.168.1.1, 00:12:42, Ethernet0/0
    O        192.168.10.64<b>/27</b> [110/35] via 192.168.2.1, 00:18:12, Ethernet0/1
    O        192.168.10.80<b>/28</b> [110/35] via 192.168.3.1, 00:14:51, Ethernet0/2
    O        192.168.10.80<b>/29</b> [110/35] via 192.168.4.1, 00:02:32, Ethernet0/3
    </pre>

    The destination IP address 192.168.10.94 belongs to the 192.168.10.0/24, 192.168.10.64/27 and the 192.168.10.80/28 subnets but the longest prefix match process will select the /28 prefix and forward the packet out of Ethernet 0/2 to 192.168.3.1.

    Congratulations you have completed the lab!
  title: CCNA Prep 2024 S1E4 Static Routing
  version: 0.2.2
